#
# reference.conf
#

plain {

	#
	# application root directory at runtime
	#
	home = target/

	#
	# if not set here this will default to 'java.io.tmpdir'
	#
	temp = ${plain.home}/temp
	
	config {

		version = "1.0.1"

		#
		# Very verbose, maybe better to have a look at the JMX management bean's attribute 'configuration'.
		#
		log-config-on-start = off
		
		#
		# If true it should be caught be the application bootstrap and stop the main program.
		#
		rethrow-exception-on-error = on

		print-stacktrace-on-error = off

		#
		# Immediately terminates the jvm, really a last resort.
		#
		terminate-on-error = off
		
		terminate-on-error-exitcode = -1

	}
	
	logging {
	
		level = DEBUG
	
		directory = ${plain.home}/logs
		
		archive= ${plain.logging.directory}/archive
	
		console {
		
			enable = on
			
			pattern = "[%date{yyyyMMddHHmmssSSS}] [%level] [%logger] %msg%n"
		
			# for not redirecting the console to a file set this value to "" or .
			file = ${plain.logging.directory}/console.log
			
			# not implemented
			rolling-pattern = .

		}
		
		text {
		
			enable = off
			
			pattern = "[%date{yyyyMMddHHmmssSSS}] [%level] [%logger] %msg%n"
			
			file = ${plain.logging.directory}/logfile.log
			
			rolling-pattern = ${plain.logging.archive}"/logfile.log.%d{yyyyMMdd}.zip"

		}		
		
		html {
		
			enable = off
			
			# this is very complex and, therefore, set inside logback.xml
			pattern = .
			
			file = ${plain.logging.directory}/logfile.html
			
			rolling-pattern = ${plain.logging.archive}"/logfile.html.%d{yyyyMMdd}.zip"

		}		

		#
		# Add the names of those loggers here that annoy you most with their debug messages.
		#
		filter-debug-names = [
			LocalActorRefProvider			
		]
	
	}
	
	concurrent {
	
		#
		# Give the underlying ActorSystem a name (usually "default"). This name can be used to configure it with an akka configuration.
		#
		actorsystem = default
	
	}
	
	io {

		#
		# This size is used for generating internal buffers for synchronous Io. Quite a bit of testing made 2K look like a good value. 
		#	
		default-buffer-size = 2K
		
		#
		# To make deleteDirectory more robust (retry and pause).
		#
		delete-directory-retries = 5
		
		delete-directory-pause-between-retries = 10 s
	
	}
	
	aio {
	
		#
		# This size is used for generating internal buffers for asynchronous Io. 
		# Quite a bit of testing made 2K look like a good value. 
		# A size of < 16 is not allowed. Everything < 512 should only be used for testing.
		#	
		default-buffer-size = 2K
		
		#
		# Size of a preallocated pool of ByteBuffers with default-buffer-size. This should be close to the number of simultaneous connections you expect.
		#
		default-buffer-pool-size = 10000
		
		#
		# Should be large enough to make an SSL packet fit into it. 
		# This uses direct memory, so eventually you need to play with the jvm direct memory settings to provide more to it.
		# A size < 2K is not allowed.
		#
		large-buffer-size = 16K
		
		#
		# Size of a preallocated pool of ByteBuffers with large-buffer-size.
		# This uses direct memory, so eventually you need to play with the jvm direct memory settings to provide more to it.
		#
		large-buffer-pool-size = 100

		#
		# Used during parsing of smaller strings, should be between 16 and 512 
		# This uses direct memory, so eventually you need to play with the jvm direct memory settings to provide more to it.
		#
		tiny-buffer-size = 128
		
		#
		# Size of a preallocated pool of ByteBuffers with tiny-buffer-size.
		# This uses direct memory, so eventually you need to play with the jvm direct memory settings to provide more to it.
		#
		tiny-buffer-pool-size = 10000
	
	}
	
	json {
	
		#
		# format json in an almost human-readable form, this is expensive, though
		#
		formatted-output = off
	
	}

	xml {
	
		#
		# format xml in a human-readable form, this is an expensive operation
		#
		formatted-output = off
	
	}
	
	monitor {
	
		#
		# When calling shutdown from a monitoring application (eg. jconsole) this token must be given as input to add some extra protection.
		#
		shutdown-token = 1234
		
	}
	
	http {
	
		port = 7500
		
		backlog = 10000
		
		feature {
		
			#
			# Allow some broken tools to request with version 1.0, but treat the request as if it is version 1.1. Apache benchmark 'ab' is such a tool.
			#
			allow-version-1.0-but-treat-it-like-1.1 = on
		
			#
			# Enable this feature to allow any (even future) versions, but treat them like version 1.1, of course this might fail due to subsequent protocol errors.
			#
			allow-any-version-but-treat-it-like-1.1 = off
			
			#
			# Setting the default character set to US-ASCII might give a small performance gain. Names must be valid for java.nio.charset.Charset.forName().
			#
			default-character-set = UTF-8
			
			#
			# If you are absolutely sure that your http request do not contain url-encoded strings this value can be set to true. This avoids calls to URLDecoder which might result in a performance benefit.  
			#
			disable-url-decoding = off
			
		}
	}

}
